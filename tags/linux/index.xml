<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Linux on 蔡蔡-korriszz</title>
        <link>https://korriszz.github.io/hugo-dev/tags/linux/</link>
        <description>Recent content in Linux on 蔡蔡-korriszz</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>示例版权所有者</copyright>
        <lastBuildDate>Sat, 22 Mar 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://korriszz.github.io/hugo-dev/tags/linux/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Kali linux系统和pycharm远程连接</title>
        <link>https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/</link>
        <pubDate>Sat, 22 Mar 2025 00:00:00 +0000</pubDate>
        
        <guid>https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/</guid>
        <description>&lt;img src="https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/a.JPG" alt="Featured image of post Kali linux系统和pycharm远程连接" /&gt;&lt;h2 id=&#34;一开启kali&#34;&gt;一、开启kali
&lt;/h2&gt;&lt;p&gt;在使用 PyCharm 连接 Kali 之前，需要保证 Kali 虚拟机的 SSH 服务处于开启状态。你可以按照以下步骤操作：&lt;br&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;开启 SSH 服务：&lt;code&gt;sudo systemctl start ssh&lt;/code&gt;或 &lt;code&gt;sudo service ssh status&lt;/code&gt;&lt;br&gt;&lt;/li&gt;
&lt;li&gt;查看服务状态：输入 &lt;code&gt;sudo systemctl status ssh&lt;/code&gt; 来查看 SSH 服务是否已成功开启。若显示 &lt;code&gt;active (running)&lt;/code&gt;，就表明服务已正常运行。&lt;br&gt;&lt;/li&gt;
&lt;li&gt;查看 IP 地址：输入 ip addr 或者 ifconfig 命令查看 Kali 虚拟机的 IP 地址&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;二实现kali-linux系统和pycharm远程连接---202131专业版pycharm&#34;&gt;二、实现Kali linux系统和pycharm远程连接   2021.3.1专业版pycharm
&lt;/h2&gt;&lt;p&gt;（1）在pycharm软件中创建连接记录
&lt;code&gt;菜单栏Tools&lt;/code&gt; &amp;gt; &lt;code&gt;Deployment&lt;/code&gt; &amp;gt; &lt;code&gt;Configuration&lt;/code&gt; &amp;gt; &lt;code&gt;+&lt;/code&gt; &amp;gt; &lt;code&gt;SFTP&lt;/code&gt; &amp;gt; &lt;code&gt;kali的ip地址&lt;/code&gt; &amp;gt; &lt;code&gt;OK&lt;/code&gt;
&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/1.png&#34;
	width=&#34;1264&#34;
	height=&#34;403&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/1_hu_eca633d33d849c5b.png 480w, https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/1_hu_7428968de259a250.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;创建连接记录&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;313&#34;
		data-flex-basis=&#34;752px&#34;
	
&gt;
（2）配置连接记录，如图1-16所示，表示连接成功。
&lt;code&gt;···&lt;/code&gt; &amp;gt; &lt;code&gt;+&lt;/code&gt; &amp;gt; &lt;code&gt;配置ip、用户名、密码&lt;/code&gt;  &amp;gt; &lt;code&gt;测试连接&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/2.png&#34;
	width=&#34;818&#34;
	height=&#34;484&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/2_hu_aac035ea4e2f19d1.png 480w, https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/2_hu_c0f1fb1a3d146acd.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;配置连接记录&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;169&#34;
		data-flex-basis=&#34;405px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;（3）配置部署关联目录
/home/kali/pythonProject     若没有该目录，则在kali中新建
&lt;code&gt;local path ： 本地目录&lt;/code&gt; &amp;gt; &lt;code&gt;Deployment path：  /home/kali/文件夹&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/3.png&#34;
	width=&#34;1053&#34;
	height=&#34;391&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/3_hu_ba4629b7e1106b02.png 480w, https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/3_hu_28fec62a1a23baeb.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;配置部署关联目录&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;269&#34;
		data-flex-basis=&#34;646px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;（4）配置项目解释器
&lt;code&gt;导航栏File&lt;/code&gt; &amp;gt; &lt;code&gt;setting&lt;/code&gt; &amp;gt; &lt;code&gt;Project code&lt;/code&gt; &amp;gt; &lt;code&gt;+ Add Content&lt;/code&gt; &amp;gt; &lt;code&gt;+&lt;/code&gt; &amp;gt; &lt;code&gt;SSH Interpreter&lt;/code&gt; &amp;gt; &lt;code&gt;选择Existing serber configureation&lt;/code&gt; &amp;gt; &lt;code&gt;···&lt;/code&gt; &amp;gt; &lt;code&gt;选择创建的root@地址&lt;/code&gt; &amp;gt; &lt;code&gt;Move&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/4.png&#34;
	width=&#34;1097&#34;
	height=&#34;543&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/4_hu_2c73d89a12cb185b.png 480w, https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/4_hu_68e741516bb1cdc5.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;选择项目解释器&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;202&#34;
		data-flex-basis=&#34;484px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;设置 Sync folder为 &amp;lt;Project root&amp;gt;-/home/kali/文件夹&lt;/code&gt;&amp;gt;&lt;code&gt;OK&lt;/code&gt;&amp;gt;&lt;code&gt;OK&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/5.png&#34;
	width=&#34;857&#34;
	height=&#34;303&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/5_hu_4ed52c903530c410.png 480w, https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/5_hu_2c005726bae44756.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;配置项目解释器映射路径&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;282&#34;
		data-flex-basis=&#34;678px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;提示：一定要确认映射文件目录是否有错，否则解释器失效。
（5）同步pycharm代码到KAli系统，即完成准备工作。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/6.png&#34;
	width=&#34;683&#34;
	height=&#34;511&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/6_hu_b72a8e4bfbdd2508.png 480w, https://korriszz.github.io/hugo-dev/p/kali-linux%E7%B3%BB%E7%BB%9F%E5%92%8Cpycharm%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/6_hu_ebd24c2ef6b74d36.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;同步pycharm代码到KAli系统&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;若报错没有nmap包，则在kali下载
&lt;code&gt;pip install python-nmap&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;三两种方法二选一即可拿到root权限&#34;&gt;三、两种方法二选一即可。拿到root权限
&lt;/h2&gt;&lt;p&gt;Operation not permitted 表示没有权限，解决方法：&lt;/p&gt;
&lt;h3 id=&#34;方法一在pycharm的terminal-选择远程的环境&#34;&gt;方法一、在Pycharm的terminal 选择远程的环境
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;切换&lt;code&gt;root：sudo su&lt;/code&gt;
密码：&lt;code&gt;kali&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在代码路径下运行：  进入路径&lt;code&gt;：cd  kali&lt;/code&gt;中代码的路径
运行代码：&lt;code&gt;python scapy01.py&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;方法二允许root用户远程登录&#34;&gt;方法二、允许root用户远程登录
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;修改配置文件&lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt;，允许root用户远程登录。
&lt;code&gt;sudo vim /etc/ssh/sshd_config&lt;/code&gt;
#允许&lt;code&gt;root&lt;/code&gt;用户远程登录
&lt;code&gt;#rmitRootLogin prohibit-password&lt;/code&gt;需修改为：（注意：#要删掉）
&lt;code&gt;PermitRootLogin yes&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;保存并退出后，重新启动ssh服务。
&lt;code&gt;sudo systemctl restart ssh&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;给root用户创建密码
root用户是linux中的超级管理员，可以操作所有的资源。默认情况下，root用户是无法登陆的，需要我们自己来创建密码。故此在测试远程连接之前，需要给root用户创建密码。
代码为：&lt;code&gt;sudo passwd root&lt;/code&gt;
密码统一设为&lt;code&gt;root&lt;/code&gt;
账户之间进行用户切换采用su - 用户名。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;后面远程连接时则可以使用&lt;code&gt;root，root&lt;/code&gt;连接。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>云计算</title>
        <link>https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/</link>
        <pubDate>Tue, 18 Mar 2025 00:00:00 +0000</pubDate>
        
        <guid>https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/</guid>
        <description>&lt;img src="https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/a.jpg" alt="Featured image of post 云计算" /&gt;&lt;h2 id=&#34;一基础配置&#34;&gt;一、基础配置
&lt;/h2&gt;&lt;h3 id=&#34;a网络配置&#34;&gt;A.网络配置
&lt;/h3&gt;&lt;h4 id=&#34;开启两块虚拟网卡&#34;&gt;开启两块虚拟网卡
&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.1.JPG&#34;
	width=&#34;521&#34;
	height=&#34;453&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.1_hu_30bfeed5765e65b5.JPG 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.1_hu_dfd05788bd541525.JPG 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;虚拟机网络编辑器设置&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;115&#34;
		data-flex-basis=&#34;276px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;b安装一台系统&#34;&gt;B.安装一台系统
&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.2.1.jpg&#34;
	width=&#34;532&#34;
	height=&#34;290&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.2.1_hu_3ff9b5ae86077a1c.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.2.1_hu_b899e1c11904e826.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;硬件配置&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;183&#34;
		data-flex-basis=&#34;440px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.2.2.jpg&#34;
	width=&#34;384&#34;
	height=&#34;288&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.2.2_hu_d0c5db0a6298050a.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.2.2_hu_17c9ae89fe97f85c.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;分区操作&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;c关闭防火墙&#34;&gt;C.关闭防火墙
&lt;/h3&gt;&lt;h4 id=&#34;一修改-selinux-配置文件&#34;&gt;（一）修改 SELinux 配置文件
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi  /etc/sysconfig/selinux
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;修改&lt;code&gt;SELINUX=disabled&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;二停止-firewalld-服务&#34;&gt;（二）停止 firewalld 服务
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl  stop  firewalld
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;三禁用-firewalld-服务开机自启&#34;&gt;（三）禁用 firewalld 服务开机自启
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl  disable  firewalld&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;四临时禁用-selinux&#34;&gt;（四）临时禁用 SELinux
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;setenforce  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;五检测防火墙&#34;&gt;（五）检测防火墙
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;getenforce
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;d配置网卡&#34;&gt;D.配置网卡
&lt;/h3&gt;&lt;h4 id=&#34;一进入网卡配置&#34;&gt;（一）进入网卡配置
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;  /etc/sysconfig/network-scripts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;二配置nat模式网卡&#34;&gt;（二）配置NAT模式网卡
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#进入NAT模式网卡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi  ifcfg-ens33
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;修改&lt;code&gt;ONBOOT=yes&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#重启网络服务的命令&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service  network  restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;三配置仅主机模式网卡&#34;&gt;（三）配置仅主机模式网卡
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#进入仅主机模式网卡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi  ifcfg-ens34
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.3.2.2.1.jpg&#34;
	width=&#34;257&#34;
	height=&#34;218&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.3.2.2.1_hu_a604812fd29ea155.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/1.3.2.2.1_hu_6b0f31766a80b100.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;删除UUID&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;117&#34;
		data-flex-basis=&#34;282px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#重启网络服务的命令&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service  network  restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;e克隆操作克隆2台虚拟机&#34;&gt;E.克隆操作（克隆2台虚拟机）
&lt;/h3&gt;&lt;p&gt;1、创建完整克隆&lt;/p&gt;
&lt;p&gt;2、修改2台克隆机的仅主机模式的IP地址，分别修改为
&lt;code&gt;192.168.100.20&lt;/code&gt;和&lt;code&gt;192.168.100.30&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;f分别设置3台虚拟机的免密登录及计算机名称&#34;&gt;F.分别设置3台虚拟机的免密登录及计算机名称
&lt;/h3&gt;&lt;h4 id=&#34;一设置3台虚拟机的计算机名称&#34;&gt;（一）设置3台虚拟机的计算机名称
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnamectl  set-hostname  db00_1  &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;  bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnamectl  set-hostname  db00_2  &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;  bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnamectl  set-hostname  db00_3  &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;  bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;二设置3台虚拟机免密登录&#34;&gt;（二）设置3台虚拟机免密登录
&lt;/h4&gt;&lt;p&gt;1、 &lt;code&gt;ssh-keygen  -t  rsa&lt;/code&gt;
（一直按回车）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen  -t  rsa
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;2、[root@db00_1 ~]# &lt;code&gt;ssh-copy-id  192.168.100.20&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-copy-id  192.168.100.20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;ssh-copy-id  192.168.100.30&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-copy-id  192.168.100.30
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;三设置3台虚拟机的etchosts文件&#34;&gt;（三）设置3台虚拟机的/etc/hosts文件
&lt;/h4&gt;&lt;p&gt;1、[root@db00_1 ~]# &lt;code&gt;vi  /etc/hosts&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi  /etc/hosts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;添加如下代码
&lt;code&gt;192.168.100.10  db00_1&lt;/code&gt;
&lt;code&gt;192.168.100.20  db00_2&lt;/code&gt;
&lt;code&gt;192.168.100.30  db00_3&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;192.168.100.10  db00_1&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;192.168.100.20  db00_2&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;192.168.100.30  db00_3&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;2、[root@db00_1 ~]# &lt;code&gt;scp  /etc/hosts  @192.168.100.20:/etc/&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scp  /etc/hosts  @192.168.100.20:/etc/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;scp  /etc/hosts  @192.168.100.30:/etc/&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scp  /etc/hosts  @192.168.100.30:/etc/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;g配置3台虚拟机的yum源&#34;&gt;G.配置3台虚拟机的yum源
&lt;/h3&gt;&lt;h4 id=&#34;一准备操作&#34;&gt;（一）准备操作
&lt;/h4&gt;&lt;p&gt;1、将&lt;code&gt;Docker.tar.gz&lt;/code&gt;文件、&lt;code&gt;K8S.tar.gz&lt;/code&gt;文件、&lt;code&gt;mdadm_yum&lt;/code&gt;文件夹、&lt;code&gt;gpmall-repo&lt;/code&gt;文件夹拷贝到&lt;code&gt;/opt&lt;/code&gt;目录中&lt;/p&gt;
&lt;p&gt;2、[root@db00_1 ~]# &lt;code&gt;mkdir  /opt/centos&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;vi  /etc/fstab&lt;/code&gt;
在最后添加一行：
&lt;code&gt;/dev/sr0        /opt/centos                     iso9660 defaults        0 0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、[root@db00_1 ~]# &lt;code&gt;mount  -a&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5、[root@db00_1 ~]# &lt;code&gt;tar  -zxvf  /opt/Docker.tar.gz  -C  /opt/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6、[root@db00_1 ~]# &lt;code&gt;tar  -zxvf  /opt/K8S.tar.gz  -C  /opt/&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;二配置db00_1的yum源&#34;&gt;（二）配置db00_1的yum源
&lt;/h4&gt;&lt;p&gt;1、[root@db00_1 ~]# &lt;code&gt;mv  /etc/yum.repos.d/*  /tmp/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2、[root@db00_1 ~]# &lt;code&gt;vi  /etc/yum.repos.d/local.repo&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;centos&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;centos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;file:///opt/centos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Docker&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;file:///opt/Docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;gpmall&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;gpmall
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;file:///opt/gpmall-repo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;k8s&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;k8s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;file:///opt/Kubernetes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mdadm&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mdadm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;file:///opt/mdadm_yum
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;yum  clean  all  &amp;amp;&amp;amp;  yum  repolist&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、[root@db00_1 ~]# &lt;code&gt;yum  install  vsftpd  vim  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5、[root@db00_1 ~]# &lt;code&gt;vim  /etc/vsftpd/vsftpd.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在第13行添加：&lt;code&gt;anon_root=/opt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6、[root@db00_1 ~]# &lt;code&gt;systemctl  restart  vsftpd  &amp;amp;&amp;amp;  systemctl  enable  vsftpd&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;三配置db00_2和db00_3的yum源&#34;&gt;（三）配置db00_2和db00_3的yum源
&lt;/h4&gt;&lt;p&gt;1、[root@db00_2 ~]# &lt;code&gt;mv  /etc/yum.repos.d/*  /tmp/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2、[root@db00_3 ~]# &lt;code&gt;mv  /etc/yum.repos.d/*  /tmp/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、[root@db00_2 ~]# &lt;code&gt;scp  @192.168.100.10:/etc/yum.repos.d/local.repo  /etc/yum.repos.d/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、[root@db00_2 ~]# &lt;code&gt;vi  /etc/yum.repos.d/local.repo&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;centos&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;centos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ftp://192.168.100.10/centos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Docker&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ftp://192.168.100.10/Docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;gpmall&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;gpmall
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ftp://192.168.100.10/gpmall-repo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;k8s&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;k8s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ftp://192.168.100.10/Kubernetes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mdadm&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mdadm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ftp://192.168.100.10/mdadm_yum
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;5、[root@db00_2 ~]# &lt;code&gt;yum  clean  all  &amp;amp;&amp;amp;  yum  repolist&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6、[root@db00_2 ~]# &lt;code&gt;scp  /etc/yum.repos.d/local.repo  @192.168.100.30:/etc/yum.repos.d/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;7、[root@db00_2 ~]# &lt;code&gt;yum  install  vim  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;8、[root@db00_3 ~]# &lt;code&gt;yum  clean  all  &amp;amp;&amp;amp;  yum  repolist&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;9、[root@db00_3 ~]# &lt;code&gt;yum  install  vim  -y&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;h3台虚拟机分别关机做快照&#34;&gt;H.3台虚拟机分别关机做快照
&lt;/h3&gt;&lt;h4 id=&#34;一创建raid5磁盘&#34;&gt;（一）创建Raid5磁盘
&lt;/h4&gt;&lt;p&gt;项目要求：在db1的虚拟机中添加4块大小为1GB的磁盘，将其中的3块创建Raid5模式的磁盘，还有一块作为热备盘，创建的磁盘名称为md5。
1、在db1中&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.1.jpg&#34;
	width=&#34;361&#34;
	height=&#34;235&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.1_hu_6ed6873caf4f7ca4.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.1_hu_db1452b7ea794810.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;添加4块磁盘&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;153&#34;
		data-flex-basis=&#34;368px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;2、查询磁盘：[root@db00_1 ~]# &lt;code&gt;lsblk&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.2.jpg&#34;
	width=&#34;387&#34;
	height=&#34;176&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.2_hu_78e0079d9934da38.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.2_hu_3104a1dd2e43ffa8.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;查询磁盘&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;219&#34;
		data-flex-basis=&#34;527px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;yum  install  mdadm  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、[root@db00_1 ~]# &lt;code&gt;mdadm  -Cv  /dev/md5  -l  5  -n  3  /dev/sdb  /dev/sdc  /dev/sdd  --spare-devices=1  /dev/sde&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5、[root@db00_1 ~]# &lt;code&gt;mdadm  -D  /dev/md5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.3.jpg&#34;
	width=&#34;532&#34;
	height=&#34;110&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.3_hu_d4b5c013e9ba290b.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.3_hu_d44bbf5a5a1fb454.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;查询磁盘&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;483&#34;
		data-flex-basis=&#34;1160px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;l格式化md5磁盘并加载&#34;&gt;L.格式化md5磁盘，并加载
&lt;/h3&gt;&lt;p&gt;（1）[root@db00_1 ~]# &lt;code&gt;mkfs.xfs  /dev/md5&lt;/code&gt;
（2）[root@db00_1 ~]# &lt;code&gt;mkdir  /data&lt;/code&gt;
（3）[root@db00_1 ~]# &lt;code&gt;mount  /dev/md5  /data/&lt;/code&gt;
（4）[root@db00_1 ~]# &lt;code&gt;vim  /etc/fstab&lt;/code&gt;
在最后添加一行
&lt;code&gt;/dev/md5        /data                           xfs     defaults        0 0&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;m测试&#34;&gt;M.测试
&lt;/h3&gt;&lt;h4 id=&#34;一&#34;&gt;（一）
&lt;/h4&gt;&lt;p&gt;（1）[root@db00_1 ~]# &lt;code&gt;touch  /data/test.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（2）[root@db00_1 ~]# &lt;code&gt;df  -Th&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（3）关机将其中一块磁盘移除&lt;/p&gt;
&lt;p&gt;（4）&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.4.jpg&#34;
	width=&#34;532&#34;
	height=&#34;81&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.4_hu_f33e3126f6b96c5e.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.4_hu_764d5baae0482b1.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;结果&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;656&#34;
		data-flex-basis=&#34;1576px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;二项目要求在上述创建的data目录中添加nfs服务允许db2虚拟机对该目录可读可写允许db3虚拟机对该目录只有只读权限&#34;&gt;（二）项目要求：在上述创建的/data目录中添加NFS服务，允许db2虚拟机对该目录可读可写，允许db3虚拟机对该目录只有只读权限。
&lt;/h4&gt;&lt;p&gt;1、[root@db00_1 ~]# &lt;code&gt;yum  install  nfs-utils  -y&lt;/code&gt;
2、[root@db00_1 ~]# &lt;code&gt;vim  /etc/exports&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/data  192.168.100.20(rw,sync,root_squash)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;systemctl  restart  nfs-server  &amp;amp;&amp;amp;  systemctl  enable  nfs-server&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、[root@db00_1 ~]# &lt;code&gt;chmod  -R  777  /data/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5、[root@db00_2 ~]# &lt;code&gt;yum  install  nfs-utils  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6、[root@db00_2 ~]# &lt;code&gt;mkdir  /data_test&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;7、[root@db00_2 ~]# &lt;code&gt;mount  -t  nfs  192.168.100.10:/data /data_test/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;8、[root@db00_2 ~]# &lt;code&gt;touch  /data_test/test1.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;9、[root@db00_1 ~]# &lt;code&gt;vim  /etc/exports&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/data  192.168.100.30(ro,sync,root_squash)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;10、[root@db00_1 ~]# &lt;code&gt;systemctl  restart  nfs-server&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;11、[root@db00_3 ~]# &lt;code&gt;mkdir  /data_test&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;12、[root@db00_3 ~]# &lt;code&gt;yum  install  nfs-utils  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;13、[root@db00_3 ~]# &lt;code&gt;mount  -t  nfs  192.168.100.10:/data  /data_test/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;14、[root@db00_3 ~]# &lt;code&gt;touch  /data_test/test2.txt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.5.jpg&#34;
	width=&#34;532&#34;
	height=&#34;48&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.5_hu_312482bea2116d6c.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.5_hu_db2905a8bf4b108b.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;创建失败&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;1108&#34;
		data-flex-basis=&#34;2660px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;15、[root@db00_3 ~]# &lt;code&gt;df  -Th&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.6.jpg&#34;
	width=&#34;532&#34;
	height=&#34;149&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.6_hu_c8f59d679d97cb9a.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.6_hu_cab8c165eaf2a07c.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;查看系统磁盘空间使用情况&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;357&#34;
		data-flex-basis=&#34;856px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;二数据库云安全配置&#34;&gt;二、数据库云安全配置
&lt;/h2&gt;&lt;p&gt;项目要求：
•构建主从数据库同步：将db1设置为主数据库服务器，将db2设置为从数据库服务器；
•构建读写分离数据库：将db1设置为只写数据库系统，将db2设置为只读数据库系统；
•构建主从数据库同步系统
•在db1和db2中安装数据库系统&lt;/p&gt;
&lt;h3 id=&#34;安装并设置开机自启-mariadb-服务&#34;&gt;安装并设置开机自启 MariaDB 服务
&lt;/h3&gt;&lt;h4 id=&#34;1rootdb00_1--yum--install--mariadb--mariadb-server---y&#34;&gt;（1）[root@db00_1 ~]# &lt;code&gt;yum  install  mariadb  mariadb-server  -y&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;2rootdb00_2--yum--install--mariadb--mariadb-server---y&#34;&gt;（2）[root@db00_2 ~]# &lt;code&gt;yum  install  mariadb  mariadb-server  -y&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;3rootdb00_1--systemctl--restart--mariadb----systemctl--enable--mariadb&#34;&gt;（3）[root@db00_1 ~]# &lt;code&gt;systemctl  restart  mariadb  &amp;amp;&amp;amp;  systemctl  enable  mariadb&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;4rootdb00_2--systemctl--restart--mariadb----systemctl--enable--mariadb&#34;&gt;（4）[root@db00_2 ~]# &lt;code&gt;systemctl  restart  mariadb  &amp;amp;&amp;amp;  systemctl  enable  mariadb&lt;/code&gt;
&lt;/h4&gt;&lt;h3 id=&#34;分别设置db1和db2数据库系统&#34;&gt;分别设置db1和db2数据库系统
&lt;/h3&gt;&lt;h4 id=&#34;1rootdb00_1--mysql_secure_installation&#34;&gt;（1）[root@db00_1 ~]# &lt;code&gt;mysql_secure_installation&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.7.jpg&#34;
	width=&#34;447&#34;
	height=&#34;350&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.7_hu_de51b93c793869f0.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.7_hu_cdc87711a6441dce.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;127&#34;
		data-flex-basis=&#34;306px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.8.jpg&#34;
	width=&#34;532&#34;
	height=&#34;436&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.8_hu_2cb60e9f6ee19c44.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.8_hu_903edf3a44209139.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;增强数据库的安全性&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;122&#34;
		data-flex-basis=&#34;292px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;2rootdb00_2--mysql_secure_installation&#34;&gt;（2）[root@db00_2 ~]# &lt;code&gt;mysql_secure_installation&lt;/code&gt;
&lt;/h4&gt;&lt;h3 id=&#34;修改db1中的mycnf文件&#34;&gt;修改db1中的my.cnf文件
&lt;/h3&gt;&lt;h4 id=&#34;1rootdb00_1--vim--etcmycnf&#34;&gt;（1）[root@db00_1 ~]# ``vim  /etc/my.cnf`
&lt;/h4&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#在最后添加：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mysqld&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;server_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;log_bin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql-bin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;binlog_ignore_db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;2rootdb00_1--systemctl--restart--mariadb&#34;&gt;（2）[root@db00_1 ~]# &lt;code&gt;systemctl  restart  mariadb&lt;/code&gt;
&lt;/h4&gt;&lt;h3 id=&#34;设置db1数据库&#34;&gt;设置db1数据库
&lt;/h3&gt;&lt;h4 id=&#34;1rootdb00_1--mysql---uroot---p123456&#34;&gt;（1）[root@db00_1 ~]# &lt;code&gt;mysql  -uroot  -p123456&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;2mariadb-none-grant--all--privileges--on----to--root--identified--by--123456&#34;&gt;（2）MariaDB [(none)]&amp;gt; &lt;code&gt;grant  all  privileges  on  *.*  to  root@&#39;%&#39;  identified  by  &#39;123456&#39;;&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;3使用navicat工具远程连接数据库&#34;&gt;（3）使用navicat工具远程连接数据库
&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.9.jpg&#34;
	width=&#34;290&#34;
	height=&#34;304&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.9_hu_a825b22a9efeb678.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.9_hu_8b854fb6554f93fe.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;远程连接数据库&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;95&#34;
		data-flex-basis=&#34;228px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;4mariadb-none-grant--replication--slave--on----to--userdb00_2--identified--by--123456&#34;&gt;（4）MariaDB [(none)]&amp;gt; &lt;code&gt;grant  replication  slave  on  *.*  to  &#39;user&#39;@&#39;db00_2&#39;  identified  by  &#39;123456&#39;;&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;进入db2虚拟机中&lt;/p&gt;
&lt;h4 id=&#34;5rootdb00_2--mysql---uroot---p123456&#34;&gt;（5）[root@db00_2 ~]# &lt;code&gt;mysql  -uroot  -p123456&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;6mariadb-none-change--master--to--master_hostdb00_1master_userusermaster_password123456&#34;&gt;（6）MariaDB [(none)]&amp;gt; &lt;code&gt;change  master  to  master_host=&#39;db00_1&#39;,master_user=&#39;user&#39;,master_password=&#39;123456&#39;;&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;7mariadb-none-start--slave&#34;&gt;（7）MariaDB [(none)]&amp;gt; &lt;code&gt;start  slave;&lt;/code&gt;
&lt;/h4&gt;&lt;h4 id=&#34;8mariadb-none-show--slave--statusg&#34;&gt;（8）MariaDB [(none)]&amp;gt; &lt;code&gt;show  slave  status\G&lt;/code&gt;
&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.10.jpg&#34;
	width=&#34;441&#34;
	height=&#34;196&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.10_hu_97c1920b9d8cd2bd.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.10_hu_e34a9b9511f39898.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;查看从库（slave）状态的命令&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;225&#34;
		data-flex-basis=&#34;540px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;在db1中创建数据库和表&#34;&gt;在db1中创建数据库和表
&lt;/h3&gt;&lt;h4 id=&#34;1创建数据库&#34;&gt;（1）创建数据库
&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.11.jpg&#34;
	width=&#34;281&#34;
	height=&#34;159&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.11_hu_7e58564e4b74f820.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.11_hu_336abf0ed180ce9a.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;创建数据库&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;176&#34;
		data-flex-basis=&#34;424px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;2创建表&#34;&gt;（2）创建表
&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.12.jpg&#34;
	width=&#34;532&#34;
	height=&#34;370&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.12_hu_ac4b875d43dfed39.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.12_hu_738e44a2a3f82e7a.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;创建表&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;143&#34;
		data-flex-basis=&#34;345px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;3插入一条数据&#34;&gt;（3）插入一条数据
&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.14.jpg&#34;
	width=&#34;455&#34;
	height=&#34;122&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.14_hu_d883267f0bac2d71.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.14_hu_a6943727095cbe77.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;插入一条数据&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;372&#34;
		data-flex-basis=&#34;895px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;构建读写分离数据库系统&#34;&gt;构建读写分离数据库系统
&lt;/h3&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;虚拟机&lt;/th&gt;
          &lt;th&gt;任务分工&lt;/th&gt;
          &lt;th&gt;作用&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Db1&lt;/td&gt;
          &lt;td&gt;负责写入&lt;/td&gt;
          &lt;td&gt;写入、修改、删除功能&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Db2&lt;/td&gt;
          &lt;td&gt;负责读取&lt;/td&gt;
          &lt;td&gt;只有查询功能&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Db3&lt;/td&gt;
          &lt;td&gt;负责管理&lt;/td&gt;
          &lt;td&gt;只有代理功能&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;进入-db3-虚拟机并安装必要软件&#34;&gt;进入 db3 虚拟机并安装必要软件
&lt;/h4&gt;&lt;p&gt;1.[root@db00_3 ~]# &lt;code&gt;yum  install  java-1.8.0-openjdk  java-1.8.0-openjdk-devel  net-tools  MariaDB-client  -y&lt;/code&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;将&lt;code&gt;Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz&lt;/code&gt;拷贝到&lt;code&gt;/opt&lt;/code&gt;目录中&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;tar  -zxvf  /opt/Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz  -C  /usr/local/&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;chown  -R  777  /usr/local/mycat/&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;echo  export  MYCAT_HOME=/usr/local/mycat/ &amp;gt;&amp;gt; /etc/profile&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;source  /etc/profile&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;mv  /usr/local/mycat/conf/schema.xml  /usr/local/mycat/conf/schema.xml.bak&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将&lt;code&gt;schema.xml&lt;/code&gt;文件拷贝到&lt;code&gt;/usr/local/mycat/conf/&lt;/code&gt;目录中&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;vim  /usr/local/mycat/conf/schema.xml&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.15.jpg&#34;
	width=&#34;532&#34;
	height=&#34;171&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.15_hu_2e750fc49a6b0792.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.15_hu_999b1ef3fa171321.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;311&#34;
		data-flex-basis=&#34;746px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;10&#34;&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;chown  root:root  /usr/local/mycat/conf/server.xml&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;vim  /usr/local/mycat/conf/server.xml&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;（1）修改第82行：&lt;code&gt;&amp;lt;property name=&amp;quot;schemas&amp;quot;&amp;gt;USERDB&amp;lt;/property&amp;gt;&lt;/code&gt;
（2）删除如下5行代码&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.16.jpg&#34;
	width=&#34;532&#34;
	height=&#34;113&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.16_hu_f1f2b1aa74269dd9.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.16_hu_84f19a0476eec86e.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;470&#34;
		data-flex-basis=&#34;1129px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;12&#34;&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;/bin/bash  /usr/local/mycat/bin/mycat  start&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[root@db00_3 ~]# &lt;code&gt;netstat  -ntpl&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.17.jpg&#34;
	width=&#34;352&#34;
	height=&#34;71&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.17_hu_3e1983265bf36c17.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.17_hu_a4efe89ce52980bc.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;495&#34;
		data-flex-basis=&#34;1189px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;14&#34;&gt;
&lt;li&gt;[root@db00_3 ~]# &lt;code&gt;mysql  -h127.0.0.1  -P8066  -uroot  -p123456&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.18.jpg&#34;
	width=&#34;532&#34;
	height=&#34;320&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.18_hu_6138dd8636dfcc97.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.18_hu_8d4fbf498a7ba196.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;166&#34;
		data-flex-basis=&#34;399px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.19.jpg&#34;
	width=&#34;532&#34;
	height=&#34;354&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.19_hu_538eea577bec6624.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.19_hu_bb4fa56d982bd212.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;150&#34;
		data-flex-basis=&#34;360px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;15&#34;&gt;
&lt;li&gt;[root@db00_3 ~]# &lt;code&gt;mysql  -h127.0.0.1  -P9066  -uroot  -p123456  -e  &#39;show  @@datasource;&#39;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.20.jpg&#34;
	width=&#34;532&#34;
	height=&#34;62&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.20_hu_58056ed50ef31cb1.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/2.20_hu_3d8658abb4252515.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;858&#34;
		data-flex-basis=&#34;2059px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;三容器云操作&#34;&gt;三、容器云操作
&lt;/h2&gt;&lt;h3 id=&#34;配置三台虚拟机的yum源&#34;&gt;配置三台虚拟机的yum源
&lt;/h3&gt;&lt;p&gt;•先将所有的默认yum源拷贝到&lt;code&gt;/etc/yum.repos.d&lt;/code&gt;目录中&lt;/p&gt;
&lt;p&gt;•将&lt;code&gt;CentOS-Base.repo&lt;/code&gt;文件替换原来的&lt;code&gt;CentOS-Base.repo&lt;/code&gt;文件&lt;/p&gt;
&lt;p&gt;•[root@db00_1 ~]# &lt;code&gt;scp  /etc/yum.repos.d/CentOS-*  @192.168.100.20:/etc/yum.repos.d/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;•[root@db00_1 ~]# &lt;code&gt;scp  /etc/yum.repos.d/CentOS-*  @192.168.100.30:/etc/yum.repos.d/&lt;/code&gt;
•# yum  repolist&lt;/p&gt;
&lt;h3 id=&#34;分别升级yum源-yum--update---y&#34;&gt;分别升级yum源：# yum  update  -y
&lt;/h3&gt;&lt;p&gt;•分别设置3台虚拟机的时钟
1、# &lt;code&gt;yum  install  ntpdate  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2、# &lt;code&gt;ntpdate  cn.pool.ntp.org&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、# &lt;code&gt;crontab  -e&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;* * * * *  /usr/sbin/ntpdate  cn.pool.ntp.org&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、# &lt;code&gt;hwclock  -s&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5、# &lt;code&gt;date&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;分别开启3台虚拟机的路由转发功能&#34;&gt;分别开启3台虚拟机的路由转发功能
&lt;/h3&gt;&lt;p&gt;1、# &lt;code&gt;modprobe  br_netfilter&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2、[root@db00_1 ~]# &lt;code&gt;vim  /etc/sysctl.d/docker.conf&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.bridge.bridge-nf-call-ip6tables&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.bridge.bridge-nf-call-iptables&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.ip_forward&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;scp  /etc/sysctl.d/docker.conf  @192.168.100.20:/etc/sysctl.d/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、[root@db00_1 ~]# &lt;code&gt;scp  /etc/sysctl.d/docker.conf  @192.168.100.30:/etc/sysctl.d/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5、# &lt;code&gt;sysctl  -p  /etc/sysctl.d/docker.conf&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;分别在3台虚拟机中安装docker容器&#34;&gt;分别在3台虚拟机中安装docker容器
&lt;/h3&gt;&lt;p&gt;1、# &lt;code&gt;yum  install  docker-ce  docker-ce-cli  containerd.io  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2、# &lt;code&gt;systemctl  restart  docker  &amp;amp;&amp;amp;  systemctl  enable  docker  &amp;amp;&amp;amp;  systemctl  daemon-reload&lt;/code&gt;
3、查询容器的运行状况
（1）# &lt;code&gt;docker  info&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（2）# &lt;code&gt;systemctl  status  docker&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/3.1.jpg&#34;
	width=&#34;267&#34;
	height=&#34;89&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/3.1_hu_731a1735005046af.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/3.1_hu_55fec4d59165c7f0.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;查询容器的运行状况&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;300&#34;
		data-flex-basis=&#34;720px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;docker的使用方法&#34;&gt;docker的使用方法
&lt;/h3&gt;&lt;h4 id=&#34;一镜像的常用命令&#34;&gt;（一）镜像的常用命令
&lt;/h4&gt;&lt;p&gt;1、从网上下载镜像：# &lt;code&gt;docker  pull  m.daocloud.io/docker.io/library/nginx&lt;/code&gt;
2、查询本地镜像：# &lt;code&gt;docker  images&lt;/code&gt;
3、将镜像制作成离线文件：[root@db00_1 ~]# &lt;code&gt;docker  save  -o  nginx.tar.gz  m.daocloud.io/docker.io/library/nginx:latest&lt;/code&gt;
（1）[root@db00_1 ~]# &lt;code&gt;scp  nginx.tar.gz  @192.168.100.20:/opt/&lt;/code&gt;
（2）[root@db00_1 ~]# &lt;code&gt;scp  nginx.tar.gz  @192.168.100.30:/opt/&lt;/code&gt;
4、利用离线镜像文件生成本地镜像
（1）[root@db00_2 ~]# &lt;code&gt;docker  load  -i  /opt/nginx.tar.gz&lt;/code&gt;
（2）[root@db00_3 ~]# &lt;code&gt;docker  load  -i  /opt/nginx.tar.gz&lt;/code&gt;
5、删除镜像：[root@db00_3 ~]# &lt;code&gt;docker  rmi  -f  b52e0b094bc0&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;二容器常用命令&#34;&gt;（二）容器常用命令
&lt;/h4&gt;&lt;p&gt;1、查询容器：[root@db00_1 ~]# &lt;code&gt;docker  ps  -a&lt;/code&gt;
2、生成容器：[root@db00_1 ~]# &lt;code&gt;docker  run  --name=nginx00  -itd  m.daocloud.io/docker.io/library/nginx:latest&lt;/code&gt;
3、进入容器：[root@db00_1 ~]# &lt;code&gt;docker  exec  -it  nginx00  /bin/bash&lt;/code&gt;
4、停止运行容器：[root@db00_1 ~]# &lt;code&gt;docker  stop  nginx00&lt;/code&gt;
5、删除容器：[root@db00_1 ~]# &lt;code&gt;docker  rm  -f  nginx00&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;利用docker容器部署nginx服务&#34;&gt;利用docker容器部署nginx服务
&lt;/h3&gt;&lt;p&gt;1、[root@db00_1 ~]# &lt;code&gt;docker  pull  m.daocloud.io/docker.io/library/centos&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2、[root@db00_1 ~]# &lt;code&gt;docker  run  --name=centos00  -itd  -p  81:81  m.daocloud.io/docker.io/library/centos:latest&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;docker  exec  -it  centos00  /bin/bash&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、[root@a70328fb312a /]# &lt;code&gt;ping  baidu.com  -c4&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5、更新yum源&lt;/p&gt;
&lt;p&gt;（1）[root@a70328fb312a /]# &lt;code&gt;cd  /etc/yum.repos.d/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（2）[root@a70328fb312a yum.repos.d]# &lt;code&gt;sed  -i  &#39;s/mirrorlist/#mirrorlist/g&#39;  /etc/yum.repos.d/CentOS-*&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（3）[root@a70328fb312a yum.repos.d]# &lt;code&gt;sed  -i  &#39;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#39;  /etc/yum.repos.d/CentOS-*&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（4）[root@a70328fb312a yum.repos.d]# &lt;code&gt;yum  update  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6、[root@a70328fb312a yum.repos.d]# &lt;code&gt;yum  install  nginx  vim  -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;7、[root@fb17db586d04 yum.repos.d]# &lt;code&gt;mkdir  -p  /var/www/html  &amp;amp;&amp;amp;  cd  /var/www/html/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;8、[root@fb17db586d04 html]# &lt;code&gt;vim  index.html&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;meta &lt;span class=&#34;nv&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;title&amp;gt;学号和姓名&amp;lt;/title&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;/head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;h1&amp;gt;学号：00&amp;lt;br /&amp;gt;姓名：张三&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;9、[root@fb17db586d04 html]# &lt;code&gt;vim  /etc/nginx/nginx.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（1）修改第39、40行的80端口&lt;/p&gt;
&lt;p&gt;listen       81 default_server;
listen       [::]:81 default_server;&lt;/p&gt;
&lt;p&gt;（2）修改第42行：&lt;code&gt;root         /var/www/html/;&lt;/code&gt;
10、[root@fb17db586d04 html]# &lt;code&gt;/usr/sbin/nginx  &amp;amp;&amp;amp;  systemctl  enable  nginx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;11、打开浏览器：&lt;code&gt;http://192.168.100.10:81/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/3.2.jpg&#34;
	width=&#34;320&#34;
	height=&#34;152&#34;
	srcset=&#34;https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/3.2_hu_846bd8a1867eae3f.jpg 480w, https://korriszz.github.io/hugo-dev/p/%E4%BA%91%E8%AE%A1%E7%AE%97/3.2_hu_48d76f05be61584e.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;查询网页内容&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;210&#34;
		data-flex-basis=&#34;505px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;利用dockerfile文件构建企业级镜像&#34;&gt;利用Dockerfile文件构建企业级镜像
&lt;/h3&gt;&lt;h4 id=&#34;一项目一利用上述容器生成一个镜像再生成一个dockerfile文件重新制作一个镜像v1最后利用该镜像生成一个容器显示另外一个网站&#34;&gt;（一）项目一：利用上述容器生成一个镜像，再生成一个Dockerfile文件，重新制作一个镜像v1，最后利用该镜像生成一个容器，显示另外一个网站。
&lt;/h4&gt;&lt;p&gt;1、[root@db00_1 ~]# &lt;code&gt;docker  ps  -a&lt;/code&gt;
（用来查询容器id，每个人的id号都不一样）&lt;/p&gt;
&lt;p&gt;2、[root@db00_1 ~]# &lt;code&gt;docker  commit  e157baa65802  new_centos00:v1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3、[root@db00_1 ~]# &lt;code&gt;mkdir  test1  &amp;amp;&amp;amp;  cd  test1/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4、将&lt;code&gt;index.html&lt;/code&gt;拷贝到&lt;code&gt;/root/test1&lt;/code&gt;目录中&lt;/p&gt;
&lt;p&gt;5、[root@db00_1 test1]# &lt;code&gt;vim  Dockerfile&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-BASH&#34; data-lang=&#34;BASH&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM  new_centos00:v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RUN  yum  install  httpd  -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COPY  index.html  /var/www/html/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EXPOSE  &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CMD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;httpd&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;-DFOREGROUND&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;6、[root@db00_1 test1]# &lt;code&gt;docker  build  -t  new_centos00:v2  .&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;7、[root@db00_1 test1]# &lt;code&gt;docker  run  --name=centos00_2  -itd  -p 80:80  new_centos00:v2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;8、打开浏览器：&lt;code&gt;http://192.168.100.10/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;9、利用上述镜像生成离线文件，并分发给另外两台虚拟机
（1）[root@db00_1 test1]# &lt;code&gt;docker  save  -o  new_centos00.tar.gz  new_centos00:v2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（2）[root@db00_1 test1]# &lt;code&gt;scp  new_centos00.tar.gz  @192.168.100.20:/opt/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（3）[root@db00_1 test1]# &lt;code&gt;scp  new_centos00.tar.gz  @192.168.100.30:/opt/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（4）[root@db00_2 ~]# &lt;code&gt;docker  load  -i  /opt/new_centos00.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（5）[root@db00_2 ~]# &lt;code&gt;docker  run  --name  centos00_2  -itd  -p 80:80  new_centos00:v2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（6）[root@db00_3 ~]# &lt;code&gt;docker  load  -i  /opt/new_centos00.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;（7）[root@db00_3 ~]# &lt;code&gt;docker  run  --name=centos00_2  -itd  -p  82:80  new_centos00:v2&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;二课堂作业利用centos00v1镜像制作自定义镜像名称为centos00v3用来部署一个后台网站&#34;&gt;（二）课堂作业：利用centos00:v1镜像制作自定义镜像，名称为centos00:v3，用来部署一个后台网站。
&lt;/h4&gt;</description>
        </item>
        
    </channel>
</rss>
